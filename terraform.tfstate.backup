{
  "version": 4,
  "terraform_version": "1.8.2",
  "serial": 222,
  "lineage": "45cafd83-3ea5-ac05-faaf-9d69a2b84bdd",
  "outputs": {},
  "resources": [
    {
      "mode": "managed",
      "type": "newrelic_one_dashboard",
      "name": "mssql",
      "provider": "provider[\"registry.terraform.io/newrelic/newrelic\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": 4411834,
            "description": null,
            "guid": "NDQxMTgzNHxWSVp8REFTSEJPQVJEfGRhOjc2NDQzMjM",
            "id": "NDQxMTgzNHxWSVp8REFTSEJPQVJEfGRhOjc2NDQzMjM",
            "name": "MSSQL",
            "page": [
              {
                "description": "",
                "guid": "NDQxMTgzNHxWSVp8REFTSEJPQVJEfDI4MTQ2NzMy",
                "name": "MSSQL",
                "widget_area": [],
                "widget_bar": [
                  {
                    "colors": [],
                    "column": 1,
                    "facet_show_other_series": false,
                    "filter_current_dashboard": false,
                    "height": 3,
                    "id": "337432500",
                    "ignore_time_range": false,
                    "legend_enabled": true,
                    "linked_entity_guids": [],
                    "nrql_query": [
                      {
                        "account_id": 4411834,
                        "query": "FROM MssqlCustomQuerySample SELECT max(vlf_count) AS 'Virtual Log File Count' WHERE label.query='virfile'  AND environment IN ({{Environment}}) AND instance IN ({{Instance}}) FACET name"
                      }
                    ],
                    "null_values": [],
                    "row": 2,
                    "title": "Total Log File Count by Monitors",
                    "units": [],
                    "width": 3,
                    "y_axis_left_max": 0,
                    "y_axis_left_min": 0
                  }
                ],
                "widget_billboard": [
                  {
                    "colors": [],
                    "column": 1,
                    "critical": "",
                    "facet_show_other_series": false,
                    "height": 3,
                    "id": "337432501",
                    "ignore_time_range": false,
                    "legend_enabled": true,
                    "nrql_query": [
                      {
                        "account_id": 4411834,
                        "query": "FROM MssqlCustomQuerySample SELECT max(AverageWaitTimeMs) AS 'Average Wait Time M/s' WHERE label.query='avgwait'  AND environment IN ({{Environment}}) AND instance IN ({{Instance}}) FACET instance"
                      }
                    ],
                    "null_values": [],
                    "row": 1,
                    "title": "Max Average Wait Time by Monitors",
                    "units": [],
                    "warning": "",
                    "width": 3,
                    "y_axis_left_max": 0,
                    "y_axis_left_min": 0
                  },
                  {
                    "colors": [],
                    "column": 1,
                    "critical": "",
                    "facet_show_other_series": false,
                    "height": 3,
                    "id": "337484296",
                    "ignore_time_range": false,
                    "legend_enabled": true,
                    "nrql_query": [
                      {
                        "account_id": 4411834,
                        "query": "FROM MssqlCustomQuerySample SELECT count(ReplicaServerName) WHERE label.query='grouphealth' AND SynchronizationHealth!='HEALTHY'  AND environment IN ({{Environment}}) AND instance IN ({{ Instance}}) FACET SynchronizationHealth"
                      }
                    ],
                    "null_values": [],
                    "row": 5,
                    "title": "Unhealth State Replica Server",
                    "units": [],
                    "warning": "",
                    "width": 3,
                    "y_axis_left_max": 0,
                    "y_axis_left_min": 0
                  }
                ],
                "widget_bullet": [],
                "widget_funnel": [],
                "widget_heatmap": [],
                "widget_histogram": [],
                "widget_json": [],
                "widget_line": [],
                "widget_log_table": [],
                "widget_markdown": [],
                "widget_pie": [],
                "widget_stacked_bar": [],
                "widget_table": [
                  {
                    "colors": [],
                    "column": 4,
                    "facet_show_other_series": false,
                    "filter_current_dashboard": false,
                    "height": 3,
                    "id": "337304984",
                    "ignore_time_range": false,
                    "legend_enabled": true,
                    "linked_entity_guids": [],
                    "nrql_query": [
                      {
                        "account_id": 4411834,
                        "query": "SELECT wait_type,AverageWaitTimeMs, instance  FROM MssqlCustomQuerySample  WHERE label.query='avgwait' WHERE environment IN ({{Environment}}) AND instance IN ({{Instance}})"
                      }
                    ],
                    "null_values": [],
                    "row": 1,
                    "threshold": [],
                    "title": "Instance Average Wait time By Type",
                    "units": [],
                    "width": 9,
                    "y_axis_left_max": 0,
                    "y_axis_left_min": 0
                  },
                  {
                    "colors": [],
                    "column": 4,
                    "facet_show_other_series": false,
                    "filter_current_dashboard": false,
                    "height": 3,
                    "id": "337433470",
                    "ignore_time_range": false,
                    "legend_enabled": true,
                    "linked_entity_guids": [],
                    "nrql_query": [
                      {
                        "account_id": 4411834,
                        "query": "FROM MssqlCustomQuerySample SELECT DatabaseName,HoursSinceLastBackup,LastBackupDate WHERE label.query='avbackup'  WHERE environment IN ({{ Environment}}) AND instance IN ({{Instance}})"
                      }
                    ],
                    "null_values": [],
                    "row": 2,
                    "threshold": [],
                    "title": "Availability Database Backup State",
                    "units": [],
                    "width": 9,
                    "y_axis_left_max": 0,
                    "y_axis_left_min": 0
                  },
                  {
                    "colors": [],
                    "column": 1,
                    "facet_show_other_series": false,
                    "filter_current_dashboard": false,
                    "height": 3,
                    "id": "337484297",
                    "ignore_time_range": false,
                    "legend_enabled": true,
                    "linked_entity_guids": [],
                    "nrql_query": [
                      {
                        "account_id": 4411834,
                        "query": "FROM  MssqlCustomQuerySample SELECT AvailabilityGroupName,ReplicaServerName,SynchronizationHealth,DatabaseState WHERE label.query='grouphealth'  WHERE environment IN ({{Environment}}) AND instance IN ({{Instance}})"
                      }
                    ],
                    "null_values": [],
                    "row": 3,
                    "threshold": [],
                    "title": "Summary Monitor Health",
                    "units": [],
                    "width": 12,
                    "y_axis_left_max": 0,
                    "y_axis_left_min": 0
                  },
                  {
                    "colors": [],
                    "column": 1,
                    "facet_show_other_series": false,
                    "filter_current_dashboard": false,
                    "height": 3,
                    "id": "337484298",
                    "ignore_time_range": false,
                    "legend_enabled": true,
                    "linked_entity_guids": [],
                    "nrql_query": [
                      {
                        "account_id": 4411834,
                        "query": "FROM MssqlCustomQuerySample SELECT AvailabilityMode,ReplicaServerName,FailoverMode,SynchronizationHealth,ReplicaRole,IsLocalReplica WHERE label.query='grouphealth' AND environment IN ({{Environment}}) AND instance IN ({{ Instance}})"
                      }
                    ],
                    "null_values": [],
                    "row": 4,
                    "threshold": [],
                    "title": "Replica Health Summary",
                    "units": [],
                    "width": 12,
                    "y_axis_left_max": 0,
                    "y_axis_left_min": 0
                  },
                  {
                    "colors": [],
                    "column": 4,
                    "facet_show_other_series": false,
                    "filter_current_dashboard": false,
                    "height": 3,
                    "id": "337514469",
                    "ignore_time_range": false,
                    "legend_enabled": true,
                    "linked_entity_guids": [],
                    "nrql_query": [
                      {
                        "account_id": 4411834,
                        "query": "SELECT IdIndexColumnType, IdIndexMaxActualValue, IdIndexMinActualValue, IdIndexPercentage, IdIndexPercentageSkipped, tablename,instance, fullHostname from MssqlCustomQuerySample where label.query ='identity' AND environment IN ({{Environment}}) AND instance IN ({{ Instance}}) since 1 day ago LIMIT MAX"
                      }
                    ],
                    "null_values": [],
                    "row": 5,
                    "threshold": [],
                    "title": "Tables with identity columns",
                    "units": [],
                    "width": 9,
                    "y_axis_left_max": 0,
                    "y_axis_left_min": 0
                  },
                  {
                    "colors": [],
                    "column": 1,
                    "facet_show_other_series": false,
                    "filter_current_dashboard": false,
                    "height": 3,
                    "id": "337514470",
                    "ignore_time_range": false,
                    "legend_enabled": true,
                    "linked_entity_guids": [],
                    "nrql_query": [
                      {
                        "account_id": 4411834,
                        "query": "SELECT `Current Row Count`, `Current Threshold`, Tablename, instance, fullHostname from MssqlCustomQuerySample where label.query ='transient' AND environment IN ({{Environment}}) AND instance IN ({{ Instance}}) since 1 day ago LIMIT MAX "
                      }
                    ],
                    "null_values": [],
                    "row": 6,
                    "threshold": [],
                    "title": "Transient tables over their specified row count",
                    "units": [],
                    "width": 12,
                    "y_axis_left_max": 0,
                    "y_axis_left_min": 0
                  },
                  {
                    "colors": [],
                    "column": 1,
                    "facet_show_other_series": false,
                    "filter_current_dashboard": false,
                    "height": 3,
                    "id": "337514471",
                    "ignore_time_range": false,
                    "legend_enabled": true,
                    "linked_entity_guids": [],
                    "nrql_query": [
                      {
                        "account_id": 4411834,
                        "query": "SELECT latest(createdate) AS 'CreateDate', latest(updatedate) AS 'UpdateDate', latest(accdate) AS 'AccDate' from MssqlCustomQuerySample where label.query ='sysadmin' AND environment IN ({{Environment}}) AND instance IN ({{ Instance}}) since 1 day ago LIMIT MAX facet name, instance, fullHostname"
                      }
                    ],
                    "null_values": [],
                    "row": 7,
                    "threshold": [],
                    "title": "sysadmin",
                    "units": [],
                    "width": 12,
                    "y_axis_left_max": 0,
                    "y_axis_left_min": 0
                  },
                  {
                    "colors": [],
                    "column": 1,
                    "facet_show_other_series": false,
                    "filter_current_dashboard": false,
                    "height": 3,
                    "id": "337514472",
                    "ignore_time_range": false,
                    "legend_enabled": true,
                    "linked_entity_guids": [],
                    "nrql_query": [
                      {
                        "account_id": 4411834,
                        "query": "SELECT crdate, instance, fullHostname, instanceType from MssqlCustomQuerySample where label.query ='instance_reboot' AND environment IN ({{Environment}}) AND instance IN ({{ Instance}}) since 3 days ago LIMIT MAX"
                      }
                    ],
                    "null_values": [],
                    "row": 8,
                    "threshold": [],
                    "title": "sqlinstance_reboot_prd",
                    "units": [],
                    "width": 12,
                    "y_axis_left_max": 0,
                    "y_axis_left_min": 0
                  }
                ]
              },
              {
                "description": "",
                "guid": "NDQxMTgzNHxWSVp8REFTSEJPQVJEfDI4MTQ2NzMz",
                "name": "MSSQL Jobs \u0026 System Resources",
                "widget_area": [],
                "widget_bar": [],
                "widget_billboard": [],
                "widget_bullet": [],
                "widget_funnel": [],
                "widget_heatmap": [],
                "widget_histogram": [],
                "widget_json": [],
                "widget_line": [],
                "widget_log_table": [],
                "widget_markdown": [],
                "widget_pie": [],
                "widget_stacked_bar": [],
                "widget_table": [
                  {
                    "colors": [],
                    "column": 1,
                    "facet_show_other_series": false,
                    "filter_current_dashboard": false,
                    "height": 3,
                    "id": "337507456",
                    "ignore_time_range": false,
                    "legend_enabled": true,
                    "linked_entity_guids": [],
                    "nrql_query": [
                      {
                        "account_id": 4411834,
                        "query": "select instance, `JOB NAME`,DESCRIPTION,`RUN STATUS`,`STEP NAME`,`RUN DATE`, `RUN DURATION`, `RUN TIME`, hostname from MssqlCustomQuerySample where label.query ='sqljob' AND `RUN STATUS` =0  AND environment IN ({{Environment}}) AND instance IN ({{ Instance}}) since 1 day ago LIMIT MAX"
                      }
                    ],
                    "null_values": [],
                    "row": 1,
                    "threshold": [],
                    "title": "SQL Job Failed",
                    "units": [],
                    "width": 6,
                    "y_axis_left_max": 0,
                    "y_axis_left_min": 0
                  },
                  {
                    "colors": [],
                    "column": 7,
                    "facet_show_other_series": false,
                    "filter_current_dashboard": false,
                    "height": 3,
                    "id": "337507457",
                    "ignore_time_range": false,
                    "legend_enabled": true,
                    "linked_entity_guids": [],
                    "nrql_query": [
                      {
                        "account_id": 4411834,
                        "query": "select instance, `JOB NAME`,DESCRIPTION,`RUN STATUS`,`STEP NAME`,`RUN DATE`, `RUN DURATION`, `RUN TIME`, hostname from MssqlCustomQuerySample where label.query ='sqljob' AND `RUN STATUS` =3 AND environment IN ({{Environment}}) AND instance IN ({{ Instance}}) since 1 day ago LIMIT MAX"
                      }
                    ],
                    "null_values": [],
                    "row": 1,
                    "threshold": [],
                    "title": "SQL Job Cancelled",
                    "units": [],
                    "width": 6,
                    "y_axis_left_max": 0,
                    "y_axis_left_min": 0
                  },
                  {
                    "colors": [],
                    "column": 1,
                    "facet_show_other_series": false,
                    "filter_current_dashboard": false,
                    "height": 3,
                    "id": "337507458",
                    "ignore_time_range": false,
                    "legend_enabled": true,
                    "linked_entity_guids": [],
                    "nrql_query": [
                      {
                        "account_id": 4411834,
                        "query": "SELECT instance, AvgCPUTime, Text, creation_time, last_execution_time, total_worker_time, execution_count, fullHostname from MssqlCustomQuerySample where label.query ='topsqlcpu' AND environment IN ({{Environment}}) AND instance IN ({{ Instance}})"
                      }
                    ],
                    "null_values": [],
                    "row": 2,
                    "threshold": [],
                    "title": "Based on CPU",
                    "units": [],
                    "width": 12,
                    "y_axis_left_max": 0,
                    "y_axis_left_min": 0
                  },
                  {
                    "colors": [],
                    "column": 1,
                    "facet_show_other_series": false,
                    "filter_current_dashboard": false,
                    "height": 3,
                    "id": "337507459",
                    "ignore_time_range": false,
                    "legend_enabled": true,
                    "linked_entity_guids": [],
                    "nrql_query": [
                      {
                        "account_id": 4411834,
                        "query": "SELECT instance, Text, creation_time, last_execution_time, LogicalReads, LogicalWrites, execution_count, AggIO, AvgIO, database_name, OBJECT_ID, fullHostname from MssqlCustomQuerySample where label.query ='topsqldisk' AND environment IN ({{Environment}}) AND instance IN ({{ Instance}})"
                      }
                    ],
                    "null_values": [],
                    "row": 3,
                    "threshold": [],
                    "title": "Based on Disk I/O",
                    "units": [],
                    "width": 12,
                    "y_axis_left_max": 0,
                    "y_axis_left_min": 0
                  }
                ]
              },
              {
                "description": "",
                "guid": "NDQxMTgzNHxWSVp8REFTSEJPQVJEfDI4MzQyNTEy",
                "name": "DBState",
                "widget_area": [],
                "widget_bar": [],
                "widget_billboard": [
                  {
                    "colors": [],
                    "column": 1,
                    "critical": "",
                    "facet_show_other_series": false,
                    "height": 3,
                    "id": "337502977",
                    "ignore_time_range": false,
                    "legend_enabled": true,
                    "nrql_query": [
                      {
                        "account_id": 4411834,
                        "query": "FROM MssqlCustomQuerySample SELECT uniqueCount(DatabaseName) AS 'Total  DBCount' WHERE label.query='dbstate'  AND environment IN ({{Environment}}) AND instance IN ({{Instance}})"
                      }
                    ],
                    "null_values": [],
                    "row": 1,
                    "title": "Total DBCount",
                    "units": [],
                    "warning": "",
                    "width": 3,
                    "y_axis_left_max": 0,
                    "y_axis_left_min": 0
                  },
                  {
                    "colors": [],
                    "column": 4,
                    "critical": "",
                    "facet_show_other_series": false,
                    "height": 3,
                    "id": "337502978",
                    "ignore_time_range": false,
                    "legend_enabled": true,
                    "nrql_query": [
                      {
                        "account_id": 4411834,
                        "query": " FROM MssqlCustomQuerySample SELECT uniqueCount(DatabaseName) AS 'Database Count' WHERE label.query='dbstate'  AND DatabaseStatus ='ONLINE' AND environment IN ({{Environment}}) AND instance IN ({{Instance}}) LIMIT MAX"
                      }
                    ],
                    "null_values": [],
                    "row": 1,
                    "title": "DB Count Online",
                    "units": [],
                    "warning": "",
                    "width": 3,
                    "y_axis_left_max": 0,
                    "y_axis_left_min": 0
                  },
                  {
                    "colors": [],
                    "column": 7,
                    "critical": "",
                    "facet_show_other_series": false,
                    "height": 3,
                    "id": "337502979",
                    "ignore_time_range": false,
                    "legend_enabled": true,
                    "nrql_query": [
                      {
                        "account_id": 4411834,
                        "query": "FROM MssqlCustomQuerySample SELECT uniqueCount(DatabaseName) AS 'Database Count' WHERE label.query='dbstate' AND environment IN ({{Environment}}) AND instance IN ({{Instance}}) AND DatabaseStatus!='ONLINE'"
                      }
                    ],
                    "null_values": [],
                    "row": 1,
                    "title": "DB Count Not Online",
                    "units": [],
                    "warning": "",
                    "width": 3,
                    "y_axis_left_max": 0,
                    "y_axis_left_min": 0
                  },
                  {
                    "colors": [],
                    "column": 10,
                    "critical": "",
                    "facet_show_other_series": false,
                    "height": 3,
                    "id": "340451131",
                    "ignore_time_range": false,
                    "legend_enabled": true,
                    "nrql_query": [
                      {
                        "account_id": 4411834,
                        "query": "From MssqlCustomQuerySample select count(*) AS 'New DB Created' where label.query = 'newdb' and environment IN (Environment) and instance IN (Instance) SINCE 1 year ago LIMIT MAX"
                      }
                    ],
                    "null_values": [],
                    "row": 1,
                    "title": "New DB Created",
                    "units": [],
                    "warning": "",
                    "width": 3,
                    "y_axis_left_max": 0,
                    "y_axis_left_min": 0
                  },
                  {
                    "colors": [],
                    "column": 1,
                    "critical": "",
                    "facet_show_other_series": false,
                    "height": 3,
                    "id": "343548706",
                    "ignore_time_range": false,
                    "legend_enabled": true,
                    "nrql_query": [
                      {
                        "account_id": 4411834,
                        "query": "FROM MssqlCustomQuerySample SELECT latest(LogBackupStatus) WHERE label.query='logbackup' AND environment IN ({{environment}}) AND instance IN ({{Instance}}) FACET DatabaseName"
                      }
                    ],
                    "null_values": [],
                    "row": 4,
                    "title": "DB Log Backup Status",
                    "units": [],
                    "warning": "",
                    "width": 3,
                    "y_axis_left_max": 0,
                    "y_axis_left_min": 0
                  }
                ],
                "widget_bullet": [],
                "widget_funnel": [],
                "widget_heatmap": [],
                "widget_histogram": [],
                "widget_json": [],
                "widget_line": [],
                "widget_log_table": [],
                "widget_markdown": [],
                "widget_pie": [],
                "widget_stacked_bar": [],
                "widget_table": [
                  {
                    "colors": [],
                    "column": 1,
                    "facet_show_other_series": false,
                    "filter_current_dashboard": false,
                    "height": 3,
                    "id": "337401618",
                    "ignore_time_range": false,
                    "legend_enabled": true,
                    "linked_entity_guids": [],
                    "nrql_query": [
                      {
                        "account_id": 4411834,
                        "query": "SELECT timestamp,DatabaseStatus,DatabaseName,customer,hostname,hostStatus FROM MssqlCustomQuerySample  WHERE label.query='dbstate' WHERE  DatabaseStatus IS NOT NULL AND DatabaseStatus ='ONLINE' AND environment IN ({{Environment}}) AND instance IN ({{Instance}})"
                      }
                    ],
                    "null_values": [],
                    "row": 2,
                    "threshold": [],
                    "title": "Summary - DB State Online",
                    "units": [],
                    "width": 12,
                    "y_axis_left_max": 0,
                    "y_axis_left_min": 0
                  },
                  {
                    "colors": [],
                    "column": 1,
                    "facet_show_other_series": false,
                    "filter_current_dashboard": false,
                    "height": 3,
                    "id": "337401617",
                    "ignore_time_range": false,
                    "legend_enabled": true,
                    "linked_entity_guids": [],
                    "nrql_query": [
                      {
                        "account_id": 4411834,
                        "query": "SELECT timestamp,DatabaseStatus,DatabaseName,customer,hostname,hostStatus FROM MssqlCustomQuerySample  WHERE label.query='dbstate' WHERE  DatabaseStatus IS NOT NULL AND DatabaseStatus !='ONLINE' AND environment IN ({{Environment}}) AND instance IN ({{Instance}})"
                      }
                    ],
                    "null_values": [],
                    "row": 3,
                    "threshold": [],
                    "title": "Summary - DB State Not Online",
                    "units": [],
                    "width": 12,
                    "y_axis_left_max": 0,
                    "y_axis_left_min": 0
                  }
                ]
              },
              {
                "description": "",
                "guid": "NDQxMTgzNHxWSVp8REFTSEJPQVJEfDI4MzQ3NzYz",
                "name": "SQL Event Logs",
                "widget_area": [],
                "widget_bar": [],
                "widget_billboard": [],
                "widget_bullet": [],
                "widget_funnel": [],
                "widget_heatmap": [],
                "widget_histogram": [],
                "widget_json": [],
                "widget_line": [],
                "widget_log_table": [],
                "widget_markdown": [],
                "widget_pie": [],
                "widget_stacked_bar": [],
                "widget_table": [
                  {
                    "colors": [],
                    "column": 1,
                    "facet_show_other_series": false,
                    "filter_current_dashboard": false,
                    "height": 3,
                    "id": "337425803",
                    "ignore_time_range": false,
                    "legend_enabled": true,
                    "linked_entity_guids": [],
                    "nrql_query": [
                      {
                        "account_id": 4411834,
                        "query": "SELECT `Channel`,`EventID`,`ComputerName`,`message` FROM Log WHERE (`EventID` = 17063 OR `EventID` = '17063') AND message like '% x %' SINCE 7 days ago LIMIT 50"
                      }
                    ],
                    "null_values": [],
                    "row": 1,
                    "threshold": [],
                    "title": "SQL Event 17063",
                    "units": [],
                    "width": 12,
                    "y_axis_left_max": 0,
                    "y_axis_left_min": 0
                  }
                ]
              },
              {
                "description": "",
                "guid": "NDQxMTgzNHxWSVp8REFTSEJPQVJEfDI4MzY1MTI3",
                "name": "Server Reboot \u0026 Account locked Event",
                "widget_area": [],
                "widget_bar": [],
                "widget_billboard": [],
                "widget_bullet": [],
                "widget_funnel": [],
                "widget_heatmap": [],
                "widget_histogram": [],
                "widget_json": [],
                "widget_line": [],
                "widget_log_table": [],
                "widget_markdown": [],
                "widget_pie": [],
                "widget_stacked_bar": [],
                "widget_table": [
                  {
                    "colors": [],
                    "column": 1,
                    "facet_show_other_series": false,
                    "filter_current_dashboard": false,
                    "height": 3,
                    "id": "337502984",
                    "ignore_time_range": false,
                    "legend_enabled": true,
                    "linked_entity_guids": [],
                    "nrql_query": [
                      {
                        "account_id": 4411834,
                        "query": "SELECT `Channel`,`EventID`,`ComputerName`,`message` FROM Log WHERE (`EventID` = 1074 OR `EventID` = '1074') AND hostname like '%prd%' SINCE 3 days ago limit max"
                      }
                    ],
                    "null_values": [],
                    "row": 2,
                    "threshold": [],
                    "title": "server_reboot_prd",
                    "units": [],
                    "width": 12,
                    "y_axis_left_max": 0,
                    "y_axis_left_min": 0
                  },
                  {
                    "colors": [],
                    "column": 1,
                    "facet_show_other_series": false,
                    "filter_current_dashboard": false,
                    "height": 3,
                    "id": "340452123",
                    "ignore_time_range": false,
                    "legend_enabled": true,
                    "linked_entity_guids": [],
                    "nrql_query": [
                      {
                        "account_id": 4411834,
                        "query": "SELECT message, ComputerName, SourceName, EventID FROM Log WHERE (`EventID` = 18456 OR `EventID` = '18456' OR `EventID` = 18486 OR `EventID` = '18486') AND `environment` = 'prd' AND hostname like '%prd%' since 1 week ago LIMIT MAX"
                      }
                    ],
                    "null_values": [],
                    "row": 3,
                    "threshold": [],
                    "title": "SQL Account locked event",
                    "units": [],
                    "width": 12,
                    "y_axis_left_max": 0,
                    "y_axis_left_min": 0
                  }
                ]
              },
              {
                "description": "",
                "guid": "NDQxMTgzNHxWSVp8REFTSEJPQVJEfDI4OTUxOTU1",
                "name": "Blocked_Process",
                "widget_area": [],
                "widget_bar": [],
                "widget_billboard": [
                  {
                    "colors": [],
                    "column": 1,
                    "critical": "",
                    "facet_show_other_series": false,
                    "height": 3,
                    "id": "340452124",
                    "ignore_time_range": false,
                    "legend_enabled": true,
                    "nrql_query": [
                      {
                        "account_id": 4411834,
                        "query": "FROM MssqlCustomQuerySample SELECT max(wait_time) FACET instance,wait_resource WHERE label.query='blocked' AND environment IN ({{Environment}}) AND ({{Instance}})"
                      }
                    ],
                    "null_values": [],
                    "row": 1,
                    "title": "Max Blocked Wait Time By Instance",
                    "units": [],
                    "warning": "",
                    "width": 4,
                    "y_axis_left_max": 0,
                    "y_axis_left_min": 0
                  }
                ],
                "widget_bullet": [],
                "widget_funnel": [],
                "widget_heatmap": [],
                "widget_histogram": [],
                "widget_json": [],
                "widget_line": [
                  {
                    "colors": [],
                    "column": 1,
                    "facet_show_other_series": false,
                    "height": 3,
                    "id": "340452125",
                    "ignore_time_range": false,
                    "is_label_visible": false,
                    "legend_enabled": true,
                    "nrql_query": [
                      {
                        "account_id": 4411834,
                        "query": "SELECT max(`mssql.instance.instance.blockedProcessesCount`) FROM Metric where environment IN ({{Environment}}) AND instance IN ({{ Instance}}) since 1 hour ago FACET entity.name TIMESERIES AUTO"
                      }
                    ],
                    "null_values": [],
                    "row": 2,
                    "threshold": [],
                    "title": "blocked_process_count",
                    "units": [],
                    "width": 12,
                    "y_axis_left_max": 0,
                    "y_axis_left_min": 0,
                    "y_axis_left_zero": false,
                    "y_axis_right": []
                  }
                ],
                "widget_log_table": [],
                "widget_markdown": [],
                "widget_pie": [],
                "widget_stacked_bar": [],
                "widget_table": [
                  {
                    "colors": [],
                    "column": 5,
                    "facet_show_other_series": false,
                    "filter_current_dashboard": false,
                    "height": 3,
                    "id": "340452126",
                    "ignore_time_range": false,
                    "legend_enabled": true,
                    "linked_entity_guids": [],
                    "nrql_query": [
                      {
                        "account_id": 4411834,
                        "query": "FROM MssqlCustomQuerySample SELECT BlockingSessionID,wait_type,wait_time,wait_resource  WHERE label.query='blocked' AND environment IN ({{Environment}}) AND instance IN ({{Instance}})"
                      }
                    ],
                    "null_values": [],
                    "row": 1,
                    "threshold": [],
                    "title": "Summary - Blocked Session",
                    "units": [],
                    "width": 8,
                    "y_axis_left_max": 0,
                    "y_axis_left_min": 0
                  }
                ]
              },
              {
                "description": "",
                "guid": "NDQxMTgzNHxWSVp8REFTSEJPQVJEfDI5NTU0NzE4",
                "name": "Availability Group",
                "widget_area": [],
                "widget_bar": [],
                "widget_billboard": [
                  {
                    "colors": [],
                    "column": 1,
                    "critical": "",
                    "facet_show_other_series": false,
                    "height": 3,
                    "id": "343494142",
                    "ignore_time_range": false,
                    "legend_enabled": true,
                    "nrql_query": [
                      {
                        "account_id": 4411834,
                        "query": "FROM MssqlCustomQuerySample SELECT latest(DatabaseState) AS 'DATABASE STATE' WHERE label.query='agonline'  AND environment IN ({{Environment}}) AND instance IN ({{Instance}})FACET instance , AvailabilityGroupName"
                      }
                    ],
                    "null_values": [],
                    "row": 1,
                    "title": "AG Online Monitor DB State",
                    "units": [],
                    "warning": "",
                    "width": 3,
                    "y_axis_left_max": 0,
                    "y_axis_left_min": 0
                  },
                  {
                    "colors": [],
                    "column": 4,
                    "critical": "",
                    "facet_show_other_series": false,
                    "height": 3,
                    "id": "343494143",
                    "ignore_time_range": false,
                    "legend_enabled": true,
                    "nrql_query": [
                      {
                        "account_id": 4411834,
                        "query": "FROM MssqlCustomQuerySample SELECT latest(SynchronizationHealth)  WHERE label.query='agonline'  AND environment IN ({{Environment}}) AND instance IN ({{Instance}})FACET instance , AvailabilityGroupName"
                      }
                    ],
                    "null_values": [],
                    "row": 1,
                    "title": "AG Online Monitor Health",
                    "units": [],
                    "warning": "",
                    "width": 3,
                    "y_axis_left_max": 0,
                    "y_axis_left_min": 0
                  }
                ],
                "widget_bullet": [],
                "widget_funnel": [],
                "widget_heatmap": [],
                "widget_histogram": [],
                "widget_json": [],
                "widget_line": [],
                "widget_log_table": [],
                "widget_markdown": [],
                "widget_pie": [],
                "widget_stacked_bar": [],
                "widget_table": [
                  {
                    "colors": [],
                    "column": 7,
                    "facet_show_other_series": false,
                    "filter_current_dashboard": false,
                    "height": 3,
                    "id": "343494144",
                    "ignore_time_range": false,
                    "legend_enabled": true,
                    "linked_entity_guids": [],
                    "nrql_query": [
                      {
                        "account_id": 4411834,
                        "query": "FROM MssqlCustomQuerySample SELECT AvailabilityGroupName,IsSuspended,PrimaryOrSecondary,SynchronizationHealth,DatabaseState WHERE label.query='agonline' AND environment IN ({{Environment}}) AND instance IN ({{Instance}})"
                      }
                    ],
                    "null_values": [],
                    "row": 1,
                    "threshold": [],
                    "title": "AG Online Monitor Summary",
                    "units": [],
                    "width": 6,
                    "y_axis_left_max": 0,
                    "y_axis_left_min": 0
                  },
                  {
                    "colors": [],
                    "column": 1,
                    "facet_show_other_series": false,
                    "filter_current_dashboard": false,
                    "height": 3,
                    "id": "343494145",
                    "ignore_time_range": false,
                    "legend_enabled": true,
                    "linked_entity_guids": [],
                    "nrql_query": [
                      {
                        "account_id": 4411834,
                        "query": "FROM MssqlCustomQuerySample SELECT AvailabilityGroup,AvailabilityMode,FailoverMode WHERE label.query='agafc' WHERE environment IN ({{environment}}) AND instance IN ({{Instance}})"
                      }
                    ],
                    "null_values": [],
                    "row": 2,
                    "threshold": [],
                    "title": "AG Failover Monitor",
                    "units": [],
                    "width": 12,
                    "y_axis_left_max": 0,
                    "y_axis_left_min": 0
                  }
                ]
              }
            ],
            "permalink": "https://one.newrelic.com/redirect/entity/NDQxMTgzNHxWSVp8REFTSEJPQVJEfGRhOjc2NDQzMjM",
            "permissions": "public_read_only",
            "variable": [
              {
                "default_values": [
                  "prd"
                ],
                "is_multi_selection": true,
                "item": [],
                "name": "Environment",
                "nrql_query": [
                  {
                    "account_ids": [
                      4411834
                    ],
                    "query": "SELECT uniques(environment) FROM MssqlCustomQuerySample LIMIT MAX WHERE environment IS NOT NULL"
                  }
                ],
                "options": [],
                "replacement_strategy": "string",
                "title": "Environment",
                "type": "nrql"
              },
              {
                "default_values": [
                  "*"
                ],
                "is_multi_selection": true,
                "item": [],
                "name": "Instance",
                "nrql_query": [
                  {
                    "account_ids": [
                      4411834
                    ],
                    "query": "SELECT uniques(instance) FROM MssqlCustomQuerySample LIMIT MAX WHERE instance IS NOT NULL"
                  }
                ],
                "options": [],
                "replacement_strategy": "string",
                "title": "Instance",
                "type": "nrql"
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.mssql_alerts",
      "mode": "managed",
      "type": "newrelic_alert_policy",
      "name": "policy",
      "provider": "provider[\"registry.terraform.io/newrelic/newrelic\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": 4411834,
            "channel_ids": null,
            "id": "5854603",
            "incident_preference": "PER_CONDITION_AND_TARGET",
            "name": "MSSQL_New_Monitors_Policy"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.mssql_alerts",
      "mode": "managed",
      "type": "newrelic_nrql_alert_condition",
      "name": "alert_condition",
      "provider": "provider[\"registry.terraform.io/newrelic/newrelic\"]",
      "instances": [
        {
          "index_key": "0",
          "schema_version": 0,
          "attributes": {
            "account_id": 4411834,
            "aggregation_delay": "120",
            "aggregation_method": "event_flow",
            "aggregation_timer": null,
            "aggregation_window": 300,
            "baseline_direction": "upper_only",
            "close_violations_on_expiration": false,
            "critical": [
              {
                "duration": 0,
                "operator": "above_or_equals",
                "threshold": 1,
                "threshold_duration": 300,
                "threshold_occurrences": "all",
                "time_function": ""
              }
            ],
            "description": "",
            "enabled": false,
            "entity_guid": "NDQxMTgzNHxBSU9QU3xDT05ESVRJT058NDY3ODM3MDc",
            "evaluation_delay": null,
            "expiration_duration": 0,
            "fill_option": "none",
            "fill_value": 0,
            "id": "5854603:46783707",
            "name": "Average wait time",
            "nrql": [
              {
                "evaluation_offset": 0,
                "query": "FROM MssqlCustomQuerySample  SELECT uniqueCount(AverageWaitTimeMs) WHERE label.query='avgwait'  AND AverageWaitTimeMs \u003e250 FACET wait_type, instance,hostname,AverageWaitTimeMs",
                "since_value": ""
              }
            ],
            "open_violation_on_expiration": false,
            "policy_id": 5854603,
            "runbook_url": "https://www.example.com",
            "slide_by": null,
            "term": [],
            "timeouts": null,
            "type": "static",
            "violation_time_limit": "ONE_HOUR",
            "violation_time_limit_seconds": 3600,
            "warning": []
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.mssql_alerts.newrelic_alert_policy.policy"
          ]
        },
        {
          "index_key": "1",
          "schema_version": 0,
          "attributes": {
            "account_id": 4411834,
            "aggregation_delay": "120",
            "aggregation_method": "event_flow",
            "aggregation_timer": null,
            "aggregation_window": 300,
            "baseline_direction": "upper_only",
            "close_violations_on_expiration": false,
            "critical": [],
            "description": "",
            "enabled": false,
            "entity_guid": "NDQxMTgzNHxBSU9QU3xDT05ESVRJT058NDY3ODM3MDk",
            "evaluation_delay": null,
            "expiration_duration": 0,
            "fill_option": "none",
            "fill_value": 0,
            "id": "5854603:46783709",
            "name": "vlf count",
            "nrql": [
              {
                "evaluation_offset": 0,
                "query": "FROM MssqlCustomQuerySample  SELECT uniqueCount(vlf_count) WHERE label.query='virfile' WHERE vlf_count IS NOT NULL AND vlf_count \u003e100  FACET vlf_count,instance,hostname,name",
                "since_value": ""
              }
            ],
            "open_violation_on_expiration": false,
            "policy_id": 5854603,
            "runbook_url": "https://www.example.com",
            "slide_by": null,
            "term": [],
            "timeouts": null,
            "type": "static",
            "violation_time_limit": "ONE_HOUR",
            "violation_time_limit_seconds": 3600,
            "warning": [
              {
                "duration": 0,
                "operator": "above_or_equals",
                "threshold": 1,
                "threshold_duration": 300,
                "threshold_occurrences": "all",
                "time_function": ""
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.mssql_alerts.newrelic_alert_policy.policy"
          ]
        },
        {
          "index_key": "10",
          "schema_version": 0,
          "attributes": {
            "account_id": 4411834,
            "aggregation_delay": "120",
            "aggregation_method": "event_flow",
            "aggregation_timer": null,
            "aggregation_window": 300,
            "baseline_direction": "upper_only",
            "close_violations_on_expiration": false,
            "critical": [
              {
                "duration": 0,
                "operator": "above_or_equals",
                "threshold": 1,
                "threshold_duration": 300,
                "threshold_occurrences": "all",
                "time_function": ""
              }
            ],
            "description": "",
            "enabled": false,
            "entity_guid": "NDQxMTgzNHxBSU9QU3xDT05ESVRJT058NDY4MjQ4MTM",
            "evaluation_delay": null,
            "expiration_duration": 0,
            "fill_option": "none",
            "fill_value": 0,
            "id": "5854603:46824813",
            "name": "AG Replica Health",
            "nrql": [
              {
                "evaluation_offset": 0,
                "query": "FROM MssqlCustomQuerySample  SELECT  uniqueCount(SynchronizationHealth) WHERE label.query='replica' WHERE SynchronizationHealth!='HEALTHY' FACET SynchronizationHealth,instance,hostname",
                "since_value": ""
              }
            ],
            "open_violation_on_expiration": false,
            "policy_id": 5854603,
            "runbook_url": "https://www.example.com",
            "slide_by": null,
            "term": [],
            "timeouts": null,
            "type": "static",
            "violation_time_limit": "ONE_HOUR",
            "violation_time_limit_seconds": 3600,
            "warning": []
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.mssql_alerts.newrelic_alert_policy.policy"
          ]
        },
        {
          "index_key": "11",
          "schema_version": 0,
          "attributes": {
            "account_id": 4411834,
            "aggregation_delay": "120",
            "aggregation_method": "event_flow",
            "aggregation_timer": null,
            "aggregation_window": 300,
            "baseline_direction": "upper_only",
            "close_violations_on_expiration": false,
            "critical": [
              {
                "duration": 0,
                "operator": "above_or_equals",
                "threshold": 1,
                "threshold_duration": 300,
                "threshold_occurrences": "all",
                "time_function": ""
              }
            ],
            "description": "",
            "enabled": false,
            "entity_guid": "NDQxMTgzNHxBSU9QU3xDT05ESVRJT058NDY4MjQ4MTI",
            "evaluation_delay": null,
            "expiration_duration": 0,
            "fill_option": "none",
            "fill_value": 0,
            "id": "5854603:46824812",
            "name": "AG Online Monitor",
            "nrql": [
              {
                "evaluation_offset": 0,
                "query": "FROM MssqlCustomQuerySample  SELECT uniqueCount(DatabaseState) WHERE label.query='agonline' WHERE DatabaseState!='ONLINE' FACET instance,hostname,DatabaseState",
                "since_value": ""
              }
            ],
            "open_violation_on_expiration": false,
            "policy_id": 5854603,
            "runbook_url": "https://www.example.com",
            "slide_by": null,
            "term": [],
            "timeouts": null,
            "type": "static",
            "violation_time_limit": "ONE_HOUR",
            "violation_time_limit_seconds": 3600,
            "warning": []
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.mssql_alerts.newrelic_alert_policy.policy"
          ]
        },
        {
          "index_key": "12",
          "schema_version": 0,
          "attributes": {
            "account_id": 4411834,
            "aggregation_delay": "120",
            "aggregation_method": "event_flow",
            "aggregation_timer": null,
            "aggregation_window": 300,
            "baseline_direction": "upper_only",
            "close_violations_on_expiration": false,
            "critical": [
              {
                "duration": 0,
                "operator": "above_or_equals",
                "threshold": 1,
                "threshold_duration": 300,
                "threshold_occurrences": "all",
                "time_function": ""
              }
            ],
            "description": "",
            "enabled": false,
            "entity_guid": "NDQxMTgzNHxBSU9QU3xDT05ESVRJT058NDY4MjUyNDQ",
            "evaluation_delay": null,
            "expiration_duration": 0,
            "fill_option": "none",
            "fill_value": 0,
            "id": "5854603:46825244",
            "name": "AG Automatic Failover Monitor",
            "nrql": [
              {
                "evaluation_offset": 0,
                "query": "FROM MssqlCustomQuerySample  SELECT uniqueCount(instance)WHERE label.query='agafc'  AND FailoverMode!='AUTOMATIC' AND AvailabilityMode !='SYNCHRONOUS_COMMIT'   FACET  instance, hostname,AvailabilityMode,FailoverMode",
                "since_value": ""
              }
            ],
            "open_violation_on_expiration": false,
            "policy_id": 5854603,
            "runbook_url": "https://www.example.com",
            "slide_by": null,
            "term": [],
            "timeouts": null,
            "type": "static",
            "violation_time_limit": "ONE_HOUR",
            "violation_time_limit_seconds": 3600,
            "warning": []
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.mssql_alerts.newrelic_alert_policy.policy"
          ]
        },
        {
          "index_key": "2",
          "schema_version": 0,
          "attributes": {
            "account_id": 4411834,
            "aggregation_delay": "120",
            "aggregation_method": "event_flow",
            "aggregation_timer": null,
            "aggregation_window": 300,
            "baseline_direction": "upper_only",
            "close_violations_on_expiration": false,
            "critical": [
              {
                "duration": 0,
                "operator": "above_or_equals",
                "threshold": 1,
                "threshold_duration": 300,
                "threshold_occurrences": "all",
                "time_function": ""
              }
            ],
            "description": "",
            "enabled": false,
            "entity_guid": "NDQxMTgzNHxBSU9QU3xDT05ESVRJT058NDY3ODM3MDY",
            "evaluation_delay": null,
            "expiration_duration": 0,
            "fill_option": "none",
            "fill_value": 0,
            "id": "5854603:46783706",
            "name": "vlf count",
            "nrql": [
              {
                "evaluation_offset": 0,
                "query": "FROM MssqlCustomQuerySample  SELECT uniqueCount(vlf_count) WHERE label.query='virfile' WHERE vlf_count IS NOT NULL AND vlf_count \u003e1000  FACET vlf_count,instance,hostname,name",
                "since_value": ""
              }
            ],
            "open_violation_on_expiration": false,
            "policy_id": 5854603,
            "runbook_url": "https://www.example.com",
            "slide_by": null,
            "term": [],
            "timeouts": null,
            "type": "static",
            "violation_time_limit": "ONE_HOUR",
            "violation_time_limit_seconds": 3600,
            "warning": []
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.mssql_alerts.newrelic_alert_policy.policy"
          ]
        },
        {
          "index_key": "3",
          "schema_version": 0,
          "attributes": {
            "account_id": 4411834,
            "aggregation_delay": "120",
            "aggregation_method": "event_flow",
            "aggregation_timer": null,
            "aggregation_window": 300,
            "baseline_direction": "upper_only",
            "close_violations_on_expiration": false,
            "critical": [],
            "description": "",
            "enabled": false,
            "entity_guid": "NDQxMTgzNHxBSU9QU3xDT05ESVRJT058NDY3ODM3OTA",
            "evaluation_delay": null,
            "expiration_duration": 0,
            "fill_option": "none",
            "fill_value": 0,
            "id": "5854603:46783790",
            "name": "Availability Database Backup Status",
            "nrql": [
              {
                "evaluation_offset": 0,
                "query": "FROM MssqlCustomQuerySample SELECT uniqueCount(HoursSinceLastBackup) WHERE label.query='avbackup' WHERE HoursSinceLastBackup \u003e=24 AND HoursSinceLastBackup \u003c=36   FACET instance,HoursSinceLastBackup,hostname",
                "since_value": ""
              }
            ],
            "open_violation_on_expiration": false,
            "policy_id": 5854603,
            "runbook_url": "https://www.example.com",
            "slide_by": null,
            "term": [],
            "timeouts": null,
            "type": "static",
            "violation_time_limit": "ONE_HOUR",
            "violation_time_limit_seconds": 3600,
            "warning": [
              {
                "duration": 0,
                "operator": "above_or_equals",
                "threshold": 1,
                "threshold_duration": 300,
                "threshold_occurrences": "all",
                "time_function": ""
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.mssql_alerts.newrelic_alert_policy.policy"
          ]
        },
        {
          "index_key": "4",
          "schema_version": 0,
          "attributes": {
            "account_id": 4411834,
            "aggregation_delay": "120",
            "aggregation_method": "event_flow",
            "aggregation_timer": null,
            "aggregation_window": 300,
            "baseline_direction": "upper_only",
            "close_violations_on_expiration": false,
            "critical": [
              {
                "duration": 0,
                "operator": "above_or_equals",
                "threshold": 1,
                "threshold_duration": 300,
                "threshold_occurrences": "all",
                "time_function": ""
              }
            ],
            "description": "",
            "enabled": false,
            "entity_guid": "NDQxMTgzNHxBSU9QU3xDT05ESVRJT058NDY3ODM3NTI",
            "evaluation_delay": null,
            "expiration_duration": 0,
            "fill_option": "none",
            "fill_value": 0,
            "id": "5854603:46783752",
            "name": "Availability Database Backup Status",
            "nrql": [
              {
                "evaluation_offset": 0,
                "query": "FROM MssqlCustomQuerySample SELECT uniqueCount(HoursSinceLastBackup) WHERE label.query='avbackup' WHERE HoursSinceLastBackup\u003e36  FACET instance,HoursSinceLastBackup,hostname",
                "since_value": ""
              }
            ],
            "open_violation_on_expiration": false,
            "policy_id": 5854603,
            "runbook_url": "https://www.example.com",
            "slide_by": null,
            "term": [],
            "timeouts": null,
            "type": "static",
            "violation_time_limit": "ONE_HOUR",
            "violation_time_limit_seconds": 3600,
            "warning": []
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.mssql_alerts.newrelic_alert_policy.policy"
          ]
        },
        {
          "index_key": "5",
          "schema_version": 0,
          "attributes": {
            "account_id": 4411834,
            "aggregation_delay": "120",
            "aggregation_method": "event_flow",
            "aggregation_timer": null,
            "aggregation_window": 300,
            "baseline_direction": "upper_only",
            "close_violations_on_expiration": false,
            "critical": [],
            "description": "",
            "enabled": false,
            "entity_guid": "NDQxMTgzNHxBSU9QU3xDT05ESVRJT058NDY3ODM3MDg",
            "evaluation_delay": null,
            "expiration_duration": 0,
            "fill_option": "none",
            "fill_value": 0,
            "id": "5854603:46783708",
            "name": "Log Backup Status",
            "nrql": [
              {
                "evaluation_offset": 0,
                "query": "FROM MssqlCustomQuerySample SELECT uniqueCount(LogBackupStatus) WHERE LogBackupStatus LIKE '%Log Backup Outdated%'  FACET LogBackupStatus,instance,hostname,DatabaseName",
                "since_value": ""
              }
            ],
            "open_violation_on_expiration": false,
            "policy_id": 5854603,
            "runbook_url": "https://www.example.com",
            "slide_by": null,
            "term": [],
            "timeouts": null,
            "type": "static",
            "violation_time_limit": "ONE_HOUR",
            "violation_time_limit_seconds": 3600,
            "warning": [
              {
                "duration": 0,
                "operator": "above_or_equals",
                "threshold": 1,
                "threshold_duration": 300,
                "threshold_occurrences": "all",
                "time_function": ""
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.mssql_alerts.newrelic_alert_policy.policy"
          ]
        },
        {
          "index_key": "6",
          "schema_version": 0,
          "attributes": {
            "account_id": 4411834,
            "aggregation_delay": "120",
            "aggregation_method": "event_flow",
            "aggregation_timer": null,
            "aggregation_window": 300,
            "baseline_direction": "upper_only",
            "close_violations_on_expiration": false,
            "critical": [
              {
                "duration": 0,
                "operator": "above_or_equals",
                "threshold": 1,
                "threshold_duration": 300,
                "threshold_occurrences": "all",
                "time_function": ""
              }
            ],
            "description": "",
            "enabled": false,
            "entity_guid": "NDQxMTgzNHxBSU9QU3xDT05ESVRJT058NDY4MTA4NDM",
            "evaluation_delay": null,
            "expiration_duration": 0,
            "fill_option": "none",
            "fill_value": 0,
            "id": "5854603:46810843",
            "name": "Log Backup Status",
            "nrql": [
              {
                "evaluation_offset": 0,
                "query": "FROM MssqlCustomQuerySample SELECT uniqueCount(LogBackupStatus) WHERE LogBackupStatus LIKE '%No Log Backup%' FACET LogBackupStatus,instance,hostname,DatabaseName ",
                "since_value": ""
              }
            ],
            "open_violation_on_expiration": false,
            "policy_id": 5854603,
            "runbook_url": "https://www.example.com",
            "slide_by": null,
            "term": [],
            "timeouts": null,
            "type": "static",
            "violation_time_limit": "ONE_HOUR",
            "violation_time_limit_seconds": 3600,
            "warning": []
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.mssql_alerts.newrelic_alert_policy.policy"
          ]
        },
        {
          "index_key": "7",
          "schema_version": 0,
          "attributes": {
            "account_id": 4411834,
            "aggregation_delay": "120",
            "aggregation_method": "event_flow",
            "aggregation_timer": null,
            "aggregation_window": 300,
            "baseline_direction": "upper_only",
            "close_violations_on_expiration": false,
            "critical": [
              {
                "duration": 0,
                "operator": "above_or_equals",
                "threshold": 1,
                "threshold_duration": 300,
                "threshold_occurrences": "all",
                "time_function": ""
              }
            ],
            "description": "",
            "enabled": false,
            "entity_guid": "NDQxMTgzNHxBSU9QU3xDT05ESVRJT058NDY4MTA4NDI",
            "evaluation_delay": null,
            "expiration_duration": 0,
            "fill_option": "none",
            "fill_value": 0,
            "id": "5854603:46810842",
            "name": "Blocking Session ID",
            "nrql": [
              {
                "evaluation_offset": 0,
                "query": "FROM MssqlCustomQuerySample SELECT uniqueCount(BlockingSessionID) WHERE label.query='blocked' AND BlockingSessionID!=0 FACET instance,hostname,wait_resource,BlockingSessionID",
                "since_value": ""
              }
            ],
            "open_violation_on_expiration": false,
            "policy_id": 5854603,
            "runbook_url": "https://www.example.com",
            "slide_by": null,
            "term": [],
            "timeouts": null,
            "type": "static",
            "violation_time_limit": "ONE_HOUR",
            "violation_time_limit_seconds": 3600,
            "warning": []
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.mssql_alerts.newrelic_alert_policy.policy"
          ]
        },
        {
          "index_key": "8",
          "schema_version": 0,
          "attributes": {
            "account_id": 4411834,
            "aggregation_delay": "120",
            "aggregation_method": "event_flow",
            "aggregation_timer": null,
            "aggregation_window": 300,
            "baseline_direction": "upper_only",
            "close_violations_on_expiration": false,
            "critical": [
              {
                "duration": 0,
                "operator": "above_or_equals",
                "threshold": 1,
                "threshold_duration": 300,
                "threshold_occurrences": "all",
                "time_function": ""
              }
            ],
            "description": "",
            "enabled": false,
            "entity_guid": "NDQxMTgzNHxBSU9QU3xDT05ESVRJT058NDY4MjQ4MTQ",
            "evaluation_delay": null,
            "expiration_duration": 0,
            "fill_option": "none",
            "fill_value": 0,
            "id": "5854603:46824814",
            "name": "Database Status",
            "nrql": [
              {
                "evaluation_offset": 0,
                "query": "FROM MssqlCustomQuerySample SELECT  uniquecount(DatabaseStatus) WHERE label.query='dbstate'  WHERE DatabaseStatus!='ONLINE' FACET DatabaseName,instance,DatabaseStatus",
                "since_value": ""
              }
            ],
            "open_violation_on_expiration": false,
            "policy_id": 5854603,
            "runbook_url": "https://www.example.com",
            "slide_by": null,
            "term": [],
            "timeouts": null,
            "type": "static",
            "violation_time_limit": "ONE_HOUR",
            "violation_time_limit_seconds": 3600,
            "warning": []
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.mssql_alerts.newrelic_alert_policy.policy"
          ]
        },
        {
          "index_key": "9",
          "schema_version": 0,
          "attributes": {
            "account_id": 4411834,
            "aggregation_delay": "120",
            "aggregation_method": "event_flow",
            "aggregation_timer": null,
            "aggregation_window": 300,
            "baseline_direction": "upper_only",
            "close_violations_on_expiration": false,
            "critical": [
              {
                "duration": 0,
                "operator": "above_or_equals",
                "threshold": 1,
                "threshold_duration": 300,
                "threshold_occurrences": "all",
                "time_function": ""
              }
            ],
            "description": "",
            "enabled": false,
            "entity_guid": "NDQxMTgzNHxBSU9QU3xDT05ESVRJT058NDY4MjQ4MTE",
            "evaluation_delay": null,
            "expiration_duration": 0,
            "fill_option": "none",
            "fill_value": 0,
            "id": "5854603:46824811",
            "name": "AG Health Policy",
            "nrql": [
              {
                "evaluation_offset": 0,
                "query": "FROM MssqlCustomQuerySample SELECT  uniqueCount(SynchronizationHealth) WHERE label.query='grouphealth' AND SynchronizationHealth!='HEALTHY' FACET AvailabilityGroupName,ReplicaServerName,SynchronizationHealth,instance",
                "since_value": ""
              }
            ],
            "open_violation_on_expiration": false,
            "policy_id": 5854603,
            "runbook_url": "https://www.example.com",
            "slide_by": null,
            "term": [],
            "timeouts": null,
            "type": "static",
            "violation_time_limit": "ONE_HOUR",
            "violation_time_limit_seconds": 3600,
            "warning": []
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.mssql_alerts.newrelic_alert_policy.policy"
          ]
        }
      ]
    },
    {
      "module": "module.mssql_rules_alerts",
      "mode": "managed",
      "type": "newrelic_alert_policy",
      "name": "policy",
      "provider": "provider[\"registry.terraform.io/newrelic/newrelic\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": 4411834,
            "channel_ids": null,
            "id": "5862569",
            "incident_preference": "PER_CONDITION_AND_TARGET",
            "name": "MSSQL_Rules_Monitors_Policy"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    }
  ],
  "check_results": null
}
